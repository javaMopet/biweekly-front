import{Q as z,a as N}from"./QBreadcrumbs.fcd8d044.js";import{Q as R,a as P}from"./index.804869e1.js";import{aI as F,r as c,ag as S,aK as G,aq as l,aj as o,ai as a,u as q,ah as L,b5 as O,b6 as A,aO as K,z as d,Q as D,ao as f,al as $,aN as u,aM as b,b2 as H,b3 as J}from"./index.20d4ad85.js";import{e as W,b as X,a as m,_ as Y}from"./FormRegistroCategoria.298f8369.js";import{Q as V}from"./QTooltip.a2dbcdc4.js";import{a as B}from"./useCuentasCrud.5ef3cef5.js";import{a as Z,u as ee}from"./useNotificacion.79136029.js";import"./format.9422eb17.js";import"./index.27a31e1c.js";import"./QBtnToggle.bfaab28d.js";import"./TouchPan.b5696d76.js";import"./QResizeObserver.86d26826.js";import"./DialogTitle.a45c2883.js";import"./QList.5cb48b53.js";import"./QItemLabel.be9194dc.js";import"./printer.c268160e.js";import"./FormRegistroCuenta.fba7adc4.js";import"./CuentaContableSelect.d4102a6d.js";import"./QImg.df9e647c.js";const E=p=>(H("data-v-db43265e"),p=p(),J(),p),oe={class:"row fit q-gutter-sm",style:{border:"0px solid red"}},te={class:"row items-center q-ml-sm q-gutter-x-sm"},ae={class:"q-pa-md q-gutter-sm"},le={class:"col q-pl-xs"},se={class:"row items-center"},ie=E(()=>l("div",{class:"page-title q-pr-md"},"Ingresos",-1)),ne={class:"row item-center q-gutter-x-md"},re={class:"row justify-around items-center text-dark"},ce={class:"column"},de={class:"categoria-nombre"},ue={class:"text-table-title categoria-subtitle"},me={class:"col"},pe={class:"row items-center"},ge=E(()=>l("div",{class:"page-title q-pr-md"},"Gastos",-1)),fe={class:"row justify-around text-dark"},be={class:"column"},ve={class:"categoria-nombre"},_e={class:"text-table-title categoria-subtitle"},we={__name:"CategoriasPage",setup(p){const C=Z(),T=ee(),v=W(),y=X(),_={id:null,nombre:null,icono:"insert_emoticon",descripcion:null,color:"#019A9D",tipoMovimiento:null,tipoMovimientoId:"1",cuentaContable:null,importeDefault:""},w=c(),h=c();c();const n=c({..._}),g=c(-1),r=c(!1);v.onDoneCategoriaDelete(({data:t})=>{if(t){const s=t.categoriaDelete.categoria;U("elmin\xF3",s)}}),v.onErrorCategoriaDelete(t=>{var i;const e=((i=t==null?void 0:t.toString())!=null?i:"").includes("REFERENCE constraint")?"La categor\xEDa ya ha sido utilizada previamente, no es posible eliminar, favor de verificar.":"No es posible eliminar esta categor\xEDa, favor de verificar.";C.mostrarNotificacionNegativa(e,2200)});function x(t){console.log("tipoMovimientoId",t),n.value={..._,tipoMovimientoId:t},console.log("editeditem",n.value),g.value=null,r.value=!0}function I(t){n.value={...t.row,importeDefault:t.row.importeDefault?t.row.importeDefault.toString():"",tipoMovimientoId:t.row.tipoMovimiento.id},console.log("item",n.value),g.value=t.rowIndex,r.value=!0}function k(t){T.dialog({title:"Confirmar",style:"width:500px",message:` \xBFConfirme si desea eliminar la categoria "${t.row.nombre}"?`,ok:{push:!0,color:"positive",label:"Continuar"},cancel:{push:!0,color:"negative",flat:!0,label:"cancelar"},persistent:!0}).onOk(()=>{v.categoriaDelete({id:t.row.id})}).onCancel(()=>{}).onDismiss(()=>{})}function j(t){r.value=!1}function M(t,s){r.value=!1,n.value={..._},g.value=null}function U(t,s){C.mostrarNotificacionPositiva(`La categoria "${s.nombre}" se ${t} correctamente`,2500)}const Q=[{name:"icono",label:"",sortable:!0,align:"left",filter:!1},{name:"nombre",label:"Categoria",field:"nombre",sortable:!0,align:"left",filter:!0},{name:"acciones",label:"",field:"action",sortable:!1,align:"center"}];return(t,s)=>(S(),G(K,null,[l("div",oe,[o(R,{class:"",dense:"",fit:""},{default:a(()=>[l("div",te,[l("div",ae,[o(z,{class:"breadcrum-component","active-color":"primary",separator:">","separator-color":"primary"},{default:a(()=>[o(N,{icon:"home",to:"/",label:"Inicio"}),o(N,{label:"Categorias",icon:"category"})]),_:1})])]),o(P)]),_:1}),l("div",le,[o(B,{dense:"",rows:q(y).listaCategoriasIngresos,columns:Q,"row-key":"id",filter:w.value,"rows-per-page-options":[0],"hide-header":"",class:"bg-primary-light","hide-pagination":""},{"top-left":a(()=>[l("div",se,[ie,o(d,{color:"primary-button",icon:"add",label:"Nuevo","no-caps":"",onClick:s[0]||(s[0]=e=>x("1")),class:"addNew-button",rounded:""})])]),"top-right":a(()=>[l("div",ne,[o(D,{outlined:"",dense:"",debounce:"300",modelValue:w.value,"onUpdate:modelValue":s[1]||(s[1]=e=>w.value=e),placeholder:"Buscar Ingresos",class:"bg-accent-light"},{append:a(()=>[o(f,{name:"search"})]),_:1},8,["modelValue"])])]),"body-cell-icono":a(e=>[o(m,{props:e,style:$(`border-left: 8px solid ${e.row.color}`),class:"bg-white"},{default:a(()=>[l("div",re,[o(f,{name:e.row.icono,size:"25px"},null,8,["name"])])]),_:2},1032,["props","style"])]),"body-cell-nombre":a(e=>[o(m,{props:e,class:"bg-white"},{default:a(()=>{var i;return[l("div",ce,[l("div",null,[l("span",de,u(e.row.nombre),1),b(" \xA0 "),l("span",ue,u((i=e.row.cuentaContable)==null?void 0:i.nombreCompleto),1),o(V,null,{default:a(()=>[b(u(e.row.descripcion),1)]),_:2},1024)])])]}),_:2},1032,["props"])]),"body-cell-acciones":a(e=>[o(m,{props:e,fit:"",class:"bg-white q-gutter-x-md"},{default:a(()=>[o(d,{class:"button-edit",icon:"las la-edit",dense:"",onClick:i=>I(e),round:"",flat:""},null,8,["onClick"]),o(d,{icon:"las la-trash-alt",class:"button-delete",round:"",dense:"",onClick:i=>k(e),flat:""},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","filter"])]),l("div",me,[o(B,{class:"my-sticky-header-table",rows:q(y).listaCategoriasEgresos,columns:Q,"row-key":"id",filter:h.value,"rows-per-page-options":[0],"hide-header":"","hide-pagination":"",dense:""},{"top-left":a(()=>[l("div",pe,[ge,o(d,{color:"primary-button",icon:"add",label:"Nuevo","no-caps":"",onClick:s[2]||(s[2]=e=>x("2")),class:"addNew-button",rounded:""})])]),"top-right":a(()=>[o(D,{outlined:"",dense:"",debounce:"300",modelValue:h.value,"onUpdate:modelValue":s[3]||(s[3]=e=>h.value=e),placeholder:"Buscar Gastos",class:"bg-accent-light"},{append:a(()=>[o(f,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-icono":a(e=>[o(m,{props:e,style:$(`border-left: 8px solid ${e.row.color}`),class:"bg-white"},{default:a(()=>[l("div",fe,[o(f,{name:e.row.icono,size:"25px"},null,8,["name"])])]),_:2},1032,["props","style"])]),"body-cell-nombre":a(e=>[o(m,{props:e,class:"bg-white"},{default:a(()=>{var i;return[l("div",be,[l("div",null,[l("span",ve,u(e.row.nombre),1),b(" \xA0 "),l("span",_e,u((i=e.row.cuentaContable)==null?void 0:i.nombreCompleto),1),o(V,null,{default:a(()=>[b(u(e.row.descripcion),1)]),_:2},1024)])])]}),_:2},1032,["props"])]),"body-cell-acciones":a(e=>[o(m,{props:e,fit:"",class:"bg-white q-gutter-x-md"},{default:a(()=>[o(d,{class:"button-edit",icon:"las la-edit",dense:"",onClick:i=>I(e),round:"",flat:""},null,8,["onClick"]),o(d,{icon:"las la-trash-alt",class:"button-delete",round:"",onClick:i=>k(e),flat:"",dense:""},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","filter"])])]),(S(),L(A,{to:"#modal"},[o(O,{modelValue:r.value,"onUpdate:modelValue":s[4]||(s[4]=e=>r.value=e),persistent:"","transition-show":"jump-up","transition-hide":"jump-down"},{default:a(()=>[o(Y,{"edited-item":n.value,"edited-index":g.value,onCategoriaSaved:j,onCategoriaUpdated:M},null,8,["edited-item","edited-index"])]),_:1},8,["modelValue"])]))],64))}};var ze=F(we,[["__scopeId","data-v-db43265e"]]);export{ze as default};
